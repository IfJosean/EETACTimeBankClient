
<ion-header >
  <ion-navbar color="secondary">
    <button ion-button menuToggle>
      <ion-icon name="menu"></ion-icon>
    </button>
    <ion-title>Mainpage</ion-title>
  </ion-navbar>
</ion-header>

<ion-content padding>
  <!-- NOVA ACTIVITAT -->
  <div class="col-sm-6 divisor">
    <h2 class="h2-strong">Registra una activitat</h2>

    <form #activityForm="ngForm"  (ngSubmit)="onSubmit()" class="col-lg-10, form-inLine">
      <div class="row">
        <div class="col">
          <label>Nom de l'activitat</label>
          <input type="text" name="name" #name="ngModel" [(ngModel)]="activity.name"
                 class="form-control" required />
          <span *ngIf = "!name.valid && name.touched">El nom és obligatori</span>
        </div>
        <div class="col">
          <label>Descripció breu</label>
          <input type="text" name="description" #description="ngModel" [(ngModel)]="activity.description" class="form-control" required />
          <span *ngIf = "!description.valid && description.touched">la descripció és obligatoria</span>
        </div>
      </div>
      <div class="row">
        <div class="col">
          <label>Preu</label>
          <br>
          <input type="number" min=0 step=0.25 name="cost" #cost="ngModel" [(ngModel)]="activity.cost" class="form-control" required />
          <span *ngIf = "!cost.valid && cost.touched">el preu és obligatori</span>
          <label>Tria una o varias categories</label>
          <select name="category" #category="ngModel" [(ngModel)]="activity.category" class="custom-select custom-select-lg form-control" multiple >
            <option value="Musica">                     Musica                       </option>
            <option value="Fotos i videos">             Fotos i videos               </option>
            <option value="informatica i oficina">      Informatica i oficina        </option>
            <option value="Bellesa i salut">            Bellesa i salut              </option>
            <option value="Alimentació i beguda">       Alimentació i beguda         </option>
            <option value="Hogar, jardí, bricolatge">   Hogar, jardí, bricolatge     </option>
            <option value="Videojocs">                  Videojocs                    </option>
            <option value="moda">                       Moda                         </option>
            <option value="Esport i aire lliure">       Esport i aire lliure         </option>
            <option value="coche i moto">               Coche i Moto                 </option>
            <option value="manualitats">                Manualitats                  </option>
            <option value="Ocio">                       Ocio                         </option>
          </select>
          <br>
          <label>Imatge:</label>
          


        </div>
        <div class="col">
          <h4>Afegeix algunes caracteristiques (tags) a la teva activitat</h4>
          <button  class="btn btn-info"  type="button"   (click)="addTag('Material Extra')">  Material Extra    </button>
          <button  class="btn btn-secondary" type="button" (click)="addTag('Activitat UPC')">   Activitat UPC     </button>
          <button  class="btn btn-success"  type="button"  (click)="addTag('Aire lliure')">     Aire lliure       </button>
          <button  class="btn btn-danger"   type="button"   (click)="addTag('Aquatic')">         Aquatic           </button>
          <button  class="btn btn-warning"  type="button"  (click)="addTag('Exclusiu')">        Exclusiu          </button>
          <button  class="btn btn btn-dark"  type="button"  (click)="addTag('Urgent')">          Urgent            </button></div>
      </div>
      <br>
      <input type="submit" value="Afegir" class="btn btn-success" [disabled]="!activityForm.form.valid" />
    </form>

  </div>

  <!-- NOVETATS -->
  <div class="col-lg-6 divisor">
    <h2 class="h2-strong"> Novetats</h2>
    <div style="position: relative;" *ngIf="novetats != []" class="carousel">
      <div id="myCarousel" class="carousel slide" data-ride="carousel" data-interval="5000">
        <!-- Indicators -->
        <ol class="carousel-indicators">
          <li data-target="#myCarousel" *ngFor="let x of novetats;
          let i = index" [attr.data-slide-to]="i" ngClass="i == 0 ? 'active' : ''">
          </li>
        </ol>

        <!-- Wrapper for slides -->
        <div class="carousel-inner" role="listbox" align="center">
          <div *ngFor="let activity of novetats; let k = index" [ngClass]="k == 0 ? 'item active' : 'item'" class="carousel-contenidor" >
            <table class="carousel-table" >
              <thead>
              <h3>{{activity.name}}</h3>
              </thead>
              <tbody>
              <tr>
                <td>@{{activity.user}}</td>
                <td>
                  <!-- Profile Button -->
                  <button (click)="veurePerfil(activity.user)" data-toggle="modal" data-target="#modalUser" class="btn btn-danger">
                    <i class="fa fa-address-book" style="font-size: 12px " title="Veure Usuari"></i>
                  </button>
                </td>
              </tr>
              <tr>
                <td>Apendràs a fer: <br>{{activity.description}}</td>
                <td>
                  <!-- Activity Button -->
                  <button (click)="getActivity(activity)" data-toggle="modal" data-target="#modalActivity" class="btn btn-danger">
                    <i class="fa fa-eye" style="font-size: 12px " title="Detall de l'Activitat"></i>
                  </button>
                </td>
              </tr>
              <tr>
                <td><br>Per només : {{activity.cost}}h de la teva guardiola</td>
                <td>
                  <button (click)="makeApetition(activity.user, activity._id)" data-toggle="modal" data-target="#modalPeticio" class="btn btn-danger">
                    <i class="fa fa-handshake-o" style="font-size: 11px " title="Fer una petició"></i>
                  </button>
                </td>
              </tr>
              </tbody>
            </table>
          </div>
        </div>

        <!-- Left and right controls -->
        <a class="left carousel-control" href="#myCarousel" role="button" data-slide="prev">
          <span class="glyphicon glyphicon-chevron-left" aria-hidden="true" style="color: #C40018"></span>
          <span class="sr-only">Previous</span>
        </a>
        <a class="right carousel-control" href="#myCarousel" role="button" data-slide="next">
          <span class="glyphicon glyphicon-chevron-right" aria-hidden="true" style="color: #C40018"></span >
          <span class="sr-only">Next</span>
        </a>
      </div>
    </div>
  </div>

</ion-content>



